var siteUrl = 'https://lifebeyondfife.com';
var redirects = {
  "/i-have-a-book-for-that": "https://lifebeyondfife.com/management/i-have-a-book-for-that/",
  "/defend-your-codebase-against-ai-comments": "https://lifebeyondfife.com/essays/defend-your-codebase-against-ai-comments/",
  "/the-slow-path-to-everything": "https://lifebeyondfife.com/essays/the-slow-path-to-everything/",
  "/the-deployment-constraint-speed-safety-and-automation": "https://lifebeyondfife.com/essays/the-deployment-constraint-speed-safety-and-automation/",
  "/why-5-whys-isnt-enough": "https://lifebeyondfife.com/management/why-5-whys-isnt-enough/",
  "/convincing-or-instructing": "https://lifebeyondfife.com/management/convincing-or-instructing/",
  "/managing-expectations": "https://lifebeyondfife.com/management/managing-expectations/",
  "/stop-saying-tech-debt": "https://lifebeyondfife.com/essays/stop-saying-tech-debt/",
  "/what-are-your-engineering-culture-values": "https://lifebeyondfife.com/management/what-are-your-engineering-culture-values/",
  "/hiring-advice-for-bootcamp-graduates": "https://lifebeyondfife.com/essays/hiring-advice-for-bootcamp-graduates/",
  "/manager-readme-2021": "https://lifebeyondfife.com/management/manager-readme-2021/",
  "/corporate-values-as-memes": "https://lifebeyondfife.com/essays/corporate-values-as-memes/",
  "/ready-to-start": "https://lifebeyondfife.com/fitness/ready-to-start/",
  "/plateau": "https://lifebeyondfife.com/fitness/plateau/",
  "/move-outwards-from-the-core": "https://lifebeyondfife.com/fitness/move-outwards-from-the-core/",
  "/warming-up-and-down": "https://lifebeyondfife.com/fitness/warming-up-and-down/",
  "/ratio-of-lifts": "https://lifebeyondfife.com/fitness/ratio-of-lifts/",
  "/basis-of-strength": "https://lifebeyondfife.com/fitness/basis-of-strength/",
  "/technique-is-key": "https://lifebeyondfife.com/fitness/technique-is-key/",
  "/compound-lifts": "https://lifebeyondfife.com/fitness/compound-lifts/",
  "/why-getting-strong-is-hard-part-iii": "https://lifebeyondfife.com/fitness/why-getting-strong-is-hard-part-iii/",
  "/why-getting-strong-is-hard-part-ii": "https://lifebeyondfife.com/fitness/why-getting-strong-is-hard-part-ii/",
  "/why-getting-strong-is-hard-part-i": "https://lifebeyondfife.com/fitness/why-getting-strong-is-hard-part-i/",
  "/food": "https://lifebeyondfife.com/fitness/food/",
  "/get-strong-first": "https://lifebeyondfife.com/fitness/get-strong-first/",
  "/preparation-for-training": "https://lifebeyondfife.com/fitness/preparation-for-training/",
  "/increase-calories": "https://lifebeyondfife.com/fitness/increase-calories/",
  "/the-body-as-an-engine": "https://lifebeyondfife.com/fitness/the-body-as-an-engine/",
  "/fitness-types": "https://lifebeyondfife.com/fitness/fitness-types/",
  "/systems-not-goals": "https://lifebeyondfife.com/fitness/systems-not-goals/",
  "/body-image": "https://lifebeyondfife.com/fitness/body-image/",
  "/motivation": "https://lifebeyondfife.com/fitness/motivation/",
  "/stress": "https://lifebeyondfife.com/fitness/stress/",
  "/training": "https://lifebeyondfife.com/fitness/training/",
  "/measure-the-right-thing": "https://lifebeyondfife.com/fitness/measure-the-right-thing/",
  "/question-everything": "https://lifebeyondfife.com/fitness/question-everything/",
  "/sacrifice-and-results": "https://lifebeyondfife.com/fitness/sacrifice-and-results/",
  "/change-for-life": "https://lifebeyondfife.com/fitness/change-for-life/",
  "/snake-oil": "https://lifebeyondfife.com/fitness/snake-oil/",
  "/manager-readme": "https://lifebeyondfife.com/management/manager-readme/",
  "/are-you-joining-a-good-engineering-team": "https://lifebeyondfife.com/management/are-you-joining-a-good-engineering-team/",
  "/how-much-coding-should-a-manager-do": "https://lifebeyondfife.com/management/how-much-coding-should-a-manager-do/",
  "/are-you-happy": "https://lifebeyondfife.com/essays/are-you-happy/",
  "/how-i-became-a-data-scientist": "https://lifebeyondfife.com/follies/how-i-became-a-data-scientist/",
  "/insurance-against-leftpad-level-events": "https://lifebeyondfife.com/coding/insurance-against-leftpad-level-events/",
  "/breaking-into-web-development": "https://lifebeyondfife.com/coding/breaking-into-web-development/",
  "/caveats": "https://lifebeyondfife.com/git/caveats/",
  "/conclusion": "https://lifebeyondfife.com/git/conclusion/",
  "/the-inner-cycle": "https://lifebeyondfife.com/git/the-inner-cycle/",
  "/the-middle-cycle": "https://lifebeyondfife.com/git/the-middle-cycle/",
  "/the-outer-cycle": "https://lifebeyondfife.com/git/the-outer-cycle/",
  "/setup-the-origin-repo": "https://lifebeyondfife.com/git/setup-the-origin-repo/",
  "/cycles-the-introduction": "https://lifebeyondfife.com/git/cycles-the-introduction/",
  "/never-ever-push-to-master": "https://lifebeyondfife.com/git/never-ever-push-to-master/",
  "/branch-off-commit-and-merge-back": "https://lifebeyondfife.com/git/branch-off-commit-and-merge-back/",
  "/status-and-diff-and-log": "https://lifebeyondfife.com/git/status-and-diff-and-log/",
  "/add-and-remove-checkout-and-reset": "https://lifebeyondfife.com/git/add-and-remove-checkout-and-reset/",
  "/checkout-this-branch": "https://lifebeyondfife.com/git/checkout-this-branch/",
  "/push-and-pull": "https://lifebeyondfife.com/git/push-and-pull/",
  "/init-clone-and-origin": "https://lifebeyondfife.com/git/init-clone-and-origin/",
  "/end-to-big-bang-commits": "https://lifebeyondfife.com/git/end-to-big-bang-commits/",
  "/backup-as-often-as-you-like": "https://lifebeyondfife.com/git/backup-as-often-as-you-like/",
  "/work-on-multiple-changes-concurrently": "https://lifebeyondfife.com/git/work-on-multiple-changes-concurrently/",
  "/power-of-the-server-in-your-client": "https://lifebeyondfife.com/git/power-of-the-server-in-your-client/",
  "/for-those-not-yet-using-git": "https://lifebeyondfife.com/git/for-those-not-yet-using-git/",
  "/higher-order-functions": "https://lifebeyondfife.com/follies/higher-order-functions/",
  "/a-git-workflow-for-beginners": "https://lifebeyondfife.com/follies/a-git-workflow-for-beginners/",
  "/fantasy-football-2014-15": "https://lifebeyondfife.com/coding/fantasy-football-2014-15/",
  "/converting-xml-to-json": "https://lifebeyondfife.com/coding/converting-xml-to-json/",
  "/before-you-learn-to-program": "https://lifebeyondfife.com/compsci/before-you-learn-to-program/",
  "/death-by-a-million-cuts": "https://lifebeyondfife.com/essays/death-by-a-million-cuts/",
  "/converting-bases": "https://lifebeyondfife.com/compsci/converting-bases/",
  "/how-not-to-do-a-hackathon": "https://lifebeyondfife.com/follies/how-not-to-do-a-hackathon/",
  "/the-10-types-of-people": "https://lifebeyondfife.com/compsci/the-10-types-of-people/",
  "/counting": "https://lifebeyondfife.com/compsci/counting/",
  "/helping": "https://lifebeyondfife.com/follies/helping/",
  "/plain-english": "https://lifebeyondfife.com/compsci/plain-english/",
  "/plain-english1": "https://lifebeyondfife.com/compsci/plain-english/",
  "/fantasy-football-2013-14": "https://lifebeyondfife.com/coding/fantasy-football-2013-14/",
  "/fantasy-football": "https://lifebeyondfife.com/coding/fantasy-football-2013-14/",
  "/the-future-of-education": "https://lifebeyondfife.com/essays/the-future-of-education/",
  "/expert-or-generalist": "https://lifebeyondfife.com/essays/expert-or-generalist/",
  "/curiosity-killed-the-productivity": "https://lifebeyondfife.com/essays/curiosity-killed-the-productivity/",
  "/designing-your-wedding-ring-with-13-year-old-code": "https://lifebeyondfife.com/follies/designing-your-wedding-ring-with-13-year-old-code/",
  "/xml-serialisation": "https://lifebeyondfife.com/coding/xml-serialisation/",
  "/idea-a-day": "https://lifebeyondfife.com/follies/idea-a-day/",
  "/the-difference-between-mean-and-median": "https://lifebeyondfife.com/follies/the-difference-between-mean-and-median/",
  "/from-idea-to-launch-a-website-dissection": "https://lifebeyondfife.com/follies/from-idea-to-launch-a-website-dissection/",
  "/whats-new-music": "https://lifebeyondfife.com/follies/whats-new-music/",
  "/98-whats-new-music-html": "https://lifebeyondfife.com/follies/whats-new-music/",
  "/web-developer": "https://lifebeyondfife.com/essays/web-developer/",
  "/97-web-developer-html": "https://lifebeyondfife.com/essays/web-developer/",
  "/failure": "https://lifebeyondfife.com/essays/failure/",
  "/96-failure-html": "https://lifebeyondfife.com/essays/failure/",
  "/fantasy-football-2012-13": "https://lifebeyondfife.com/coding/fantasy-football-2012-13/",
  "/95-fantasy2-html": "https://lifebeyondfife.com/coding/fantasy-football-2012-13/",
  "/one-year-in": "https://lifebeyondfife.com/follies/one-year-in/",
  "/prism": "https://lifebeyondfife.com/coding/prism/",
  "/93-prism-html": "https://lifebeyondfife.com/coding/prism/",
  "/barrier": "https://lifebeyondfife.com/essays/barrier/",
  "/92-barrier-html": "https://lifebeyondfife.com/essays/barrier/",
  "/mojo": "https://lifebeyondfife.com/essays/mojo/",
  "/91-mojo-html": "https://lifebeyondfife.com/essays/mojo/",
  "/new-music-part-one": "https://lifebeyondfife.com/follies/new-music-part-one/",
  "/90-new-music-part-one-html": "https://lifebeyondfife.com/follies/new-music-part-one/",
  "/man-at-work": "https://lifebeyondfife.com/follies/man-at-work/",
  "/89-man-at-work-html": "https://lifebeyondfife.com/follies/man-at-work/",
  "/restful": "https://lifebeyondfife.com/follies/restful/",
  "/88-restful-html": "https://lifebeyondfife.com/follies/restful/",
  "/beauty": "https://lifebeyondfife.com/follies/beauty/",
  "/87-beauty-html": "https://lifebeyondfife.com/follies/beauty/",
  "/banking-isnt-evil": "https://lifebeyondfife.com/essays/banking-isnt-evil/",
  "/university-challenge": "https://lifebeyondfife.com/follies/university-challenge/",
  "/85-university-challenge-html": "https://lifebeyondfife.com/follies/university-challenge/",
  "/remote-dev-teams": "https://lifebeyondfife.com/essays/remote-dev-teams/",
  "/84-remote-dev-teams-html": "https://lifebeyondfife.com/essays/remote-dev-teams/",
  "/e-to-the-pi-or-pi-to-the-e": "https://lifebeyondfife.com/follies/e-to-the-pi-or-pi-to-the-e/",
  "/83-e-to-the-pi-or-pi-to-the-e-html": "https://lifebeyondfife.com/follies/e-to-the-pi-or-pi-to-the-e/",
  "/f-sharp": "https://lifebeyondfife.com/follies/f-sharp/",
  "/82-f-sharp-html": "https://lifebeyondfife.com/follies/f-sharp/",
  "/real-games": "https://lifebeyondfife.com/follies/real-games/",
  "/81-real-games-html": "https://lifebeyondfife.com/follies/real-games/",
  "/async-await": "https://lifebeyondfife.com/coding/async-await/",
  "/80-async-await-html": "https://lifebeyondfife.com/coding/async-await/",
  "/ironpython-wpf": "https://lifebeyondfife.com/coding/ironpython-wpf/",
  "/79-ironpython-wpf-html": "https://lifebeyondfife.com/coding/ironpython-wpf/",
  "/amdahls-law": "https://lifebeyondfife.com/essays/amdahls-law/",
  "/78-amdahls-law-html": "https://lifebeyondfife.com/essays/amdahls-law/",
  "/d-lighted": "https://lifebeyondfife.com/follies/d-lighted/",
  "/77-d-lighted-html": "https://lifebeyondfife.com/follies/d-lighted/",
  "/in-house": "https://lifebeyondfife.com/essays/in-house/",
  "/76-in-house-html": "https://lifebeyondfife.com/essays/in-house/",
  "/agile": "https://lifebeyondfife.com/essays/agile/",
  "/75-agile-html": "https://lifebeyondfife.com/essays/agile/",
  "/fantasy-football-2011-12": "https://lifebeyondfife.com/follies/fantasy-football-2011-12/",
  "/74-fantasy-football-html": "https://lifebeyondfife.com/follies/fantasy-football-2011-12/",
  "/exhell": "https://lifebeyondfife.com/follies/exhell/",
  "/73-exhell-html": "https://lifebeyondfife.com/follies/exhell/",
  "/brown-field": "https://lifebeyondfife.com/essays/brown-field/",
  "/72-brown-field-html": "https://lifebeyondfife.com/essays/brown-field/",
  "/sabbatical": "https://lifebeyondfife.com/follies/sabbatical/",
  "/70-sabbatical-html": "https://lifebeyondfife.com/follies/sabbatical/",
  "/page/1": "https://lifebeyondfife.com/posts/page/1/",
  "/page/2": "https://lifebeyondfife.com/posts/page/2/",
  "/page/3": "https://lifebeyondfife.com/posts/page/3/",
  "/page/4": "https://lifebeyondfife.com/posts/page/4/",
  "/page/5": "https://lifebeyondfife.com/posts/page/5/",
  "/page/6": "https://lifebeyondfife.com/posts/page/6/",
  "/page/7": "https://lifebeyondfife.com/posts/page/7/",
  "/page/8": "https://lifebeyondfife.com/posts/page/8/",
  "/page/9": "https://lifebeyondfife.com/posts/page/9/",
  "/page/10": "https://lifebeyondfife.com/posts/page/10/",
  "/page/11": "https://lifebeyondfife.com/posts/page/11/",
  "/page/12": "https://lifebeyondfife.com/posts/page/12/",
  "/page/13": "https://lifebeyondfife.com/posts/page/13/",
  "/page/14": "https://lifebeyondfife.com/posts/page/14/",
  "/page/15": "https://lifebeyondfife.com/posts/page/15/",
  "/page/16": "https://lifebeyondfife.com/posts/page/16/",
  "/page/17": "https://lifebeyondfife.com/posts/page/17/",
  "/page/18": "https://lifebeyondfife.com/posts/page/18/",
  "/page/19": "https://lifebeyondfife.com/posts/page/19/"
};

function handler(event) {
  var request = event.request;
  var uri = request.uri;
  
  var lookupUri = uri.endsWith('/') && uri.length > 1 
    ? uri.slice(0, -1) 
    : uri;
  
  if (lookupUri in redirects) {
    return {
      statusCode: 301,
      statusDescription: 'Moved Permanently',
      headers: {
        'location': { value: redirects[lookupUri] },
        'cache-control': { value: 'max-age=31536000' }
      }
    };
  }
  
  if (uri.endsWith('/')) {
    request.uri = uri + 'index.html';
  } else if (!uri.split('/').pop().includes('.')) {
    request.uri += '/index.html';
  }
  
  return request;
}